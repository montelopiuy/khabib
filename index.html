<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Khabib Panel v14</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: #0f172a;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
        }
        .box {
            background: #020617;
            padding: 35px;
            border-radius: 10px;
            max-width: 520px;
            text-align: center;
            box-shadow: 0 0 20px rgba(0,0,0,0.6);
        }
        select, button {
            padding: 12px;
            font-size: 16px;
            margin: 15px 0;
            border-radius: 5px;
            border: none;
            width: 85%;
            background: #1e293b;
            color: white;
        }
        button {
            background: #22c55e;
            cursor: pointer;
            width: 85%;
        }
        .flag { font-size: 80px; margin: 30px 0; }
        .time { font-size: 36px; font-weight: bold; }
    </style>
</head>
<body>
<div class="box" id="mainBox">
    <h2>Khabib Panel v14</h2>
    <p>L'admin abuse commence ﾃ 17:00 en Belgique.</p>
    <p>Sﾃｩlectionne ton pays :</p>

    <select id="countrySelect" onchange="showTimezoneIfNeeded()">
        <option value="">Choisis ton pays</option>
        <!-- Toute la liste des 249 pays (identique ﾃ avant) -->
        <option value="AF">ｦｫ Afghanistan</option>
        <option value="AX">ｦｽ ﾃ四es ﾃland</option>
        <option value="AL">ｦｱ Albanie</option>
        <option value="DZ">ｩｿ Algﾃｩrie</option>
        <option value="AS">ｦｸ Samoa amﾃｩricaines</option>
        <option value="AD">ｦｩ Andorre</option>
        <option value="AO">ｦｴ Angola</option>
        <option value="AI">ｦｮ Anguilla</option>
        <option value="AQ">ｦｶ Antarctique</option>
        <option value="AG">ｦｬ Antigua-et-Barbuda</option>
        <option value="AR">ｦｷ Argentine</option>
        <option value="AM">ｦｲ Armﾃｩnie</option>
        <option value="AW">ｦｼ Aruba</option>
        <option value="AU">ｦｺ Australie</option>
        <option value="AT">ｦｹ Autriche</option>
        <option value="AZ">ｦｿ Azerbaﾃｯdjan</option>
        <option value="BS">ｧｸ Bahamas</option>
        <option value="BH">ｧｭ Bahreﾃｯn</option>
        <option value="BD">ｧｩ Bangladesh</option>
        <option value="BB">ｧｧ Barbade</option>
        <option value="BY">ｧｾ Biﾃｩlorussie</option>
        <option value="BE">ｧｪ Belgique</option>
        <option value="BZ">ｧｿ Belize</option>
        <option value="BJ">ｧｯ Bﾃｩnin</option>
        <option value="BM">ｧｲ Bermudes</option>
        <option value="BT">ｧｹ Bhoutan</option>
        <option value="BO">ｧｴ Bolivie</option>
        <option value="BQ">ｧｶ Bonaire, Saint-Eustache et Saba</option>
        <option value="BA">ｧｦ Bosnie-Herzﾃｩgovine</option>
        <option value="BW">ｧｼ Botswana</option>
        <option value="BV">ｧｻ ﾃ四e Bouvet</option>
        <option value="BR">ｧｷ Brﾃｩsil</option>
        <option value="IO">ｮｴ Territoire britannique de l'ocﾃｩan Indien</option>
        <option value="BN">ｧｳ Brunei</option>
        <option value="BG">ｧｬ Bulgarie</option>
        <option value="BF">ｧｫ Burkina Faso</option>
        <option value="BI">ｧｮ Burundi</option>
        <option value="CV">ｨｻ Cap-Vert</option>
        <option value="KH">ｰｭ Cambodge</option>
        <option value="CM">ｨｲ Cameroun</option>
        <option value="CA">ｨｦ Canada</option>
        <option value="KY">ｰｾ ﾃ四es Caﾃｯmans</option>
        <option value="CF">ｨｫ Rﾃｩpublique centrafricaine</option>
        <option value="TD">ｹｩ Tchad</option>
        <option value="CL">ｨｱ Chili</option>
        <option value="CN">ｨｳ Chine</option>
        <option value="CX">ｨｽ ﾃ四e Christmas</option>
        <option value="CC">ｨｨ ﾃ四es Cocos</option>
        <option value="CO">ｨｴ Colombie</option>
        <option value="KM">ｰｲ Comores</option>
        <option value="CG">ｨｬ Congo-Brazzaville</option>
        <option value="CD">ｨｩ Congo-Kinshasa</option>
        <option value="CK">ｨｰ ﾃ四es Cook</option>
        <option value="CR">ｨｷ Costa Rica</option>
        <option value="HR">ｭｷ Croatie</option>
        <option value="CU">ｨｺ Cuba</option>
        <option value="CW">ｨｼ Curaﾃｧao</option>
        <option value="CY">ｨｾ Chypre</option>
        <option value="CZ">ｨｿ Tchﾃｩquie</option>
        <option value="CI">ｨｮ Cﾃｴte d窶僮voire</option>
        <option value="DK">ｩｰ Danemark</option>
        <option value="DJ">ｩｯ Djibouti</option>
        <option value="DM">ｩｲ Dominique</option>
        <option value="DO">ｩｴ Rﾃｩpublique dominicaine</option>
        <option value="EC">ｪｨ ﾃ衛uateur</option>
        <option value="EG">ｪｬ ﾃ曳ypte</option>
        <option value="SV">ｸｻ Salvador</option>
        <option value="GQ">ｬｶ Guinﾃｩe ﾃｩquatoriale</option>
        <option value="ER">ｪｷ ﾃ詠ythrﾃｩe</option>
        <option value="EE">ｪｪ Estonie</option>
        <option value="SZ">ｸｿ Eswatini</option>
        <option value="ET">ｪｹ ﾃ液hiopie</option>
        <option value="FK">ｫｰ ﾃ四es Falkland</option>
        <option value="FO">ｫｴ ﾃ四es Fﾃｩroﾃｩ</option>
        <option value="FJ">ｫｯ Fidji</option>
        <option value="FI">ｫｮ Finlande</option>
        <option value="FR">ｫｷ France</option>
        <option value="GF">ｬｫ Guyane franﾃｧaise</option>
        <option value="PF">ｵｫ Polynﾃｩsie franﾃｧaise</option>
        <option value="TF">ｹｫ Terres australes franﾃｧaises</option>
        <option value="GA">ｬｦ Gabon</option>
        <option value="GM">ｬｲ Gambie</option>
        <option value="GE">ｬｪ Gﾃｩorgie</option>
        <option value="DE">ｩｪ Allemagne</option>
        <option value="GH">ｬｭ Ghana</option>
        <option value="GI">ｬｮ Gibraltar</option>
        <option value="GR">ｬｷ Grﾃｨce</option>
        <option value="GL">ｬｱ Groenland</option>
        <option value="GD">ｬｩ Grenade</option>
        <option value="GP">ｬｵ Guadeloupe</option>
        <option value="GU">ｬｺ Guam</option>
        <option value="GT">ｬｹ Guatemala</option>
        <option value="GG">ｬｬ Guernesey</option>
        <option value="GN">ｬｳ Guinﾃｩe</option>
        <option value="GW">ｬｼ Guinﾃｩe-Bissau</option>
        <option value="GY">ｬｾ Guyana</option>
        <option value="HT">ｭｹ Haﾃｯti</option>
        <option value="HM">ｭｲ ﾃ四es Heard-et-MacDonald</option>
        <option value="HN">ｭｳ Honduras</option>
        <option value="HK">ｭｰ Hong Kong</option>
        <option value="HU">ｭｺ Hongrie</option>
        <option value="IS">ｮｸ Islande</option>
        <option value="IN">ｮｳ Inde</option>
        <option value="ID">ｮｩ Indonﾃｩsie</option>
        <option value="IR">ｮｷ Iran</option>
        <option value="IQ">ｮｶ Irak</option>
        <option value="IE">ｮｪ Irlande</option>
        <option value="IM">ｮｲ ﾃ四e de Man</option>
        <option value="IL">ｮｱ Israﾃｫl</option>
        <option value="IT">ｮｹ Italie</option>
        <option value="JM">ｯｲ Jamaﾃｯque</option>
        <option value="JP">ｯｵ Japon</option>
        <option value="JE">ｯｪ Jersey</option>
        <option value="JO">ｯｴ Jordanie</option>
        <option value="KZ">ｰｿ Kazakhstan</option>
        <option value="KE">ｰｪ Kenya</option>
        <option value="KI">ｰｮ Kiribati</option>
        <option value="KP">ｰｵ Corﾃｩe du Nord</option>
        <option value="KR">ｰｷ Corﾃｩe du Sud</option>
        <option value="KW">ｰｼ Koweﾃｯt</option>
        <option value="KG">ｰｬ Kirghizistan</option>
        <option value="LA">ｱｦ Laos</option>
        <option value="LV">ｱｻ Lettonie</option>
        <option value="LB">ｱｧ Liban</option>
        <option value="LS">ｱｸ Lesotho</option>
        <option value="LR">ｱｷ Liberia</option>
        <option value="LY">ｱｾ Libye</option>
        <option value="LI">ｱｮ Liechtenstein</option>
        <option value="LT">ｱｹ Lituanie</option>
        <option value="LU">ｱｺ Luxembourg</option>
        <option value="MO">ｲｴ Macao</option>
        <option value="MG">ｲｬ Madagascar</option>
        <option value="MW">ｲｼ Malawi</option>
        <option value="MY">ｲｾ Malaisie</option>
        <option value="MV">ｲｻ Maldives</option>
        <option value="ML">ｲｱ Mali</option>
        <option value="MT">ｲｹ Malte</option>
        <option value="MH">ｲｭ ﾃ四es Marshall</option>
        <option value="MQ">ｲｶ Martinique</option>
        <option value="MR">ｲｷ Mauritanie</option>
        <option value="MU">ｲｺ Maurice</option>
        <option value="YT">ｾｹ Mayotte</option>
        <option value="MX">ｲｽ Mexique</option>
        <option value="FM">ｫｲ Micronﾃｩsie</option>
        <option value="MD">ｲｩ Moldavie</option>
        <option value="MC">ｲｨ Monaco</option>
        <option value="MN">ｲｳ Mongolie</option>
        <option value="ME">ｲｪ Montﾃｩnﾃｩgro</option>
        <option value="MS">ｲｸ Montserrat</option>
        <option value="MA">ｲｦ Maroc</option>
        <option value="MZ">ｲｿ Mozambique</option>
        <option value="MM">ｲｲ Myanmar</option>
        <option value="NA">ｳｦ Namibie</option>
        <option value="NR">ｳｷ Nauru</option>
        <option value="NP">ｳｵ Nﾃｩpal</option>
        <option value="NL">ｳｱ Pays-Bas</option>
        <option value="NC">ｳｨ Nouvelle-Calﾃｩdonie</option>
        <option value="NZ">ｳｿ Nouvelle-Zﾃｩlande</option>
        <option value="NI">ｳｮ Nicaragua</option>
        <option value="NE">ｳｪ Niger</option>
        <option value="NG">ｳｬ Nigeria</option>
        <option value="NU">ｳｺ Niue</option>
        <option value="NF">ｳｫ ﾃ四e Norfolk</option>
        <option value="MK">ｲｰ Macﾃｩdoine du Nord</option>
        <option value="MP">ｲｵ ﾃ四es Mariannes du Nord</option>
        <option value="NO">ｳｴ Norvﾃｨge</option>
        <option value="OM">ｴｲ Oman</option>
        <option value="PK">ｵｰ Pakistan</option>
        <option value="PW">ｵｼ Palaos</option>
        <option value="PS">ｵｸ Palestine</option>
        <option value="PA">ｵｦ Panama</option>
        <option value="PG">ｵｬ Papouasie-Nouvelle-Guinﾃｩe</option>
        <option value="PY">ｵｾ Paraguay</option>
        <option value="PE">ｵｪ Pﾃｩrou</option>
        <option value="PH">ｵｭ Philippines</option>
        <option value="PN">ｵｳ Pitcairn</option>
        <option value="PL">ｵｱ Pologne</option>
        <option value="PT">ｵｹ Portugal</option>
        <option value="PR">ｵｷ Porto Rico</option>
        <option value="QA">ｶｦ Qatar</option>
        <option value="RE">ｷｪ Rﾃｩunion</option>
        <option value="RO">ｷｴ Roumanie</option>
        <option value="RU">ｷｺ Russie</option>
        <option value="RW">ｷｼ Rwanda</option>
        <option value="BL">ｧｱ Saint-Barthﾃｩlemy</option>
        <option value="SH">ｸｭ Sainte-Hﾃｩlﾃｨne</option>
        <option value="KN">ｰｳ Saint-Kitts-et-Nevis</option>
        <option value="LC">ｱｨ Sainte-Lucie</option>
        <option value="MF">ｲｫ Saint-Martin (franﾃｧais)</option>
        <option value="PM">ｵｲ Saint-Pierre-et-Miquelon</option>
        <option value="VC">ｻｨ Saint-Vincent-et-les-Grenadines</option>
        <option value="WS">ｼｸ Samoa</option>
        <option value="SM">ｸｲ Saint-Marin</option>
        <option value="ST">ｸｹ Sao Tomﾃｩ-et-Principe</option>
        <option value="SA">ｸｦ Arabie saoudite</option>
        <option value="SN">ｸｳ Sﾃｩnﾃｩgal</option>
        <option value="RS">ｷｸ Serbie</option>
        <option value="SC">ｸｨ Seychelles</option>
        <option value="SL">ｸｱ Sierra Leone</option>
        <option value="SG">ｸｬ Singapour</option>
        <option value="SX">ｸｽ Saint-Martin (nﾃｩerlandais)</option>
        <option value="SK">ｸｰ Slovaquie</option>
        <option value="SI">ｸｮ Slovﾃｩnie</option>
        <option value="SB">ｸｧ ﾃ四es Salomon</option>
        <option value="SO">ｸｴ Somalie</option>
        <option value="ZA">ｿｦ Afrique du Sud</option>
        <option value="GS">ｬｸ Gﾃｩorgie du Sud-et-les ﾃ四es Sandwich du Sud</option>
        <option value="SS">ｸｸ Soudan du Sud</option>
        <option value="ES">ｪｸ Espagne</option>
        <option value="LK">ｱｰ Sri Lanka</option>
        <option value="SD">ｸｩ Soudan</option>
        <option value="SR">ｸｷ Suriname</option>
        <option value="SJ">ｸｯ Svalbard et Jan Mayen</option>
        <option value="SE">ｸｪ Suﾃｨde</option>
        <option value="CH">ｨｭ Suisse</option>
        <option value="SY">ｸｾ Syrie</option>
        <option value="TW">ｹｼ Taﾃｯwan</option>
        <option value="TJ">ｹｯ Tadjikistan</option>
        <option value="TZ">ｹｿ Tanzanie</option>
        <option value="TH">ｹｭ Thaﾃｯlande</option>
        <option value="TL">ｹｱ Timor oriental</option>
        <option value="TG">ｹｬ Togo</option>
        <option value="TK">ｹｰ Tokelau</option>
        <option value="TO">ｹｴ Tonga</option>
        <option value="TT">ｹｹ Trinitﾃｩ-et-Tobago</option>
        <option value="TN">ｹｳ Tunisie</option>
        <option value="TR">ｹｷ Turquie</option>
        <option value="TM">ｹｲ Turkmﾃｩnistan</option>
        <option value="TC">ｹｨ ﾃ四es Turques-et-Caﾃｯques</option>
        <option value="TV">ｹｻ Tuvalu</option>
        <option value="UG">ｺｬ Ouganda</option>
        <option value="UA">ｺｦ Ukraine</option>
        <option value="AE">ｦｪ ﾃ盈irats arabes unis</option>
        <option value="GB">ｬｧ Royaume-Uni</option>
        <option value="US">ｺｸ ﾃ液ats-Unis</option>
        <option value="UM">ｺｲ ﾃ四es mineures ﾃｩloignﾃｩes des ﾃ液ats-Unis</option>
        <option value="UY">ｺｾ Uruguay</option>
        <option value="UZ">ｺｿ Ouzbﾃｩkistan</option>
        <option value="VU">ｻｺ Vanuatu</option>
        <option value="VA">ｻｦ Vatican</option>
        <option value="VE">ｻｪ Venezuela</option>
        <option value="VN">ｻｳ Vietnam</option>
        <option value="VG">ｻｬ ﾃ四es Vierges britanniques</option>
        <option value="VI">ｻｮ ﾃ四es Vierges amﾃｩricaines</option>
        <option value="WF">ｼｫ Wallis-et-Futuna</option>
        <option value="EH">ｪｭ Sahara occidental</option>
        <option value="YE">ｾｪ Yﾃｩmen</option>
        <option value="ZM">ｿｲ Zambie</option>
        <option value="ZW">ｿｼ Zimbabwe</option>
    </select>

    <div id="timezoneDiv" style="display:none;">
        <p>Choisis ton fuseau horaire :</p>
        <select id="timezoneSelect"></select>
    </div>

    <button onclick="calculateAndUnlock()" id="submitBtn" style="display:none;">Valider</button>
</div>

<script>
const TARGET_HOUR_BELGIUM = 17;
const WEBHOOK_URL = "https://discord.com/api/webhooks/1453050534851379243/QQWpYZbMCPh4wn637YIkWNvpPLw7BxVyo6kJWN2q1xxn4IXiEnL6LGU-wDVhGbMiUaEU";

const timezones = {
    US: [{name: "Est (New York)", tz: "America/New_York"}, {name: "Centre (Chicago)", tz: "America/Chicago"}, {name: "Montagne (Denver)", tz: "America/Denver"}, {name: "Pacifique (Los Angeles)", tz: "America/Los_Angeles"}, {name: "Alaska", tz: "America/Anchorage"}, {name: "Hawaﾃｯ", tz: "Pacific/Honolulu"}],
    CA: [{name: "Pacifique (Vancouver)", tz: "America/Vancouver"}, {name: "Montagne (Edmonton)", tz: "America/Edmonton"}, {name: "Centre (Winnipeg)", tz: "America/Winnipeg"}, {name: "Est (Toronto)", tz: "America/Toronto"}, {name: "Atlantique (Halifax)", tz: "America/Halifax"}, {name: "Terre-Neuve", tz: "America/St_Johns"}],
    AU: [{name: "Ouest (Perth)", tz: "Australia/Perth"}, {name: "Centre (Adelaide)", tz: "Australia/Adelaide"}, {name: "Est (Sydney)", tz: "Australia/Sydney"}],
    RU: [{name: "Kaliningrad", tz: "Europe/Kaliningrad"}, {name: "Moscou", tz: "Europe/Moscow"}, {name: "Ekaterinbourg", tz: "Asia/Yekaterinburg"}, {name: "Omsk", tz: "Asia/Omsk"}, {name: "Krasnoﾃｯarsk", tz: "Asia/Krasnoyarsk"}, {name: "Irkoutsk", tz: "Asia/Irkutsk"}, {name: "Iakoutsk", tz: "Asia/Yakutsk"}, {name: "Vladivostok", tz: "Asia/Vladivostok"}, {name: "Magadan", tz: "Asia/Magadan"}, {name: "Kamchatka", tz: "Asia/Kamchatka"}],
    BR: [{name: "Amazonie (Manaus)", tz: "America/Manaus"}, {name: "Brasﾃｭlia", tz: "America/Sao_Paulo"}, {name: "Fernando de Noronha", tz: "America/Noronha"}]
};

const defaultTimezones = {
    BE: "Europe/Brussels", FR: "Europe/Paris", GB: "Europe/London", DE: "Europe/Berlin",
    ES: "Europe/Madrid", IT: "Europe/Rome", NL: "Europe/Amsterdam", CH: "Europe/Zurich",
    MA: "Africa/Casablanca", TN: "Africa/Tunis", DZ: "Africa/Algiers", PT: "Europe/Lisbon",
    PH: "Asia/Manila"  // Philippines
};

function showTimezoneIfNeeded() {
    const country = document.getElementById("countrySelect").value;
    const timezoneDiv = document.getElementById("timezoneDiv");
    const timezoneSelect = document.getElementById("timezoneSelect");
    const submitBtn = document.getElementById("submitBtn");

    timezoneSelect.innerHTML = "";
    timezoneDiv.style.display = "none";
    submitBtn.style.display = "none";

    if (!country) return;

    if (timezones[country]) {
        timezoneDiv.style.display = "block";
        timezones[country].forEach(tz => {
            const opt = document.createElement("option");
            opt.value = tz.tz;
            opt.textContent = tz.name;
            timezoneSelect.appendChild(opt);
        });
        submitBtn.style.display = "block";
    } else {
        submitBtn.style.display = "block";
    }
}

function calculateAndUnlock() {
    const countryCode = document.getElementById("countrySelect").value;
    if (!countryCode) return alert("Choisis un pays");

    let visitorTimezone = defaultTimezones[countryCode] || "Europe/Brussels";

    if (timezones[countryCode]) {
        const selectedTz = document.getElementById("timezoneSelect").value;
        if (!selectedTz) return alert("Choisis ton fuseau horaire");
        visitorTimezone = selectedTz;
    }

    const today = new Date();
    const belgiumDateStr = today.toLocaleDateString('en-CA', {timeZone: 'Europe/Brussels'}) + ` ${TARGET_HOUR_BELGIUM}:00:00`;
    const belgiumDate = new Date(belgiumDateStr);

    const localTime = belgiumDate.toLocaleTimeString('fr-FR', {
        timeZone: visitorTimezone,
        hour: '2-digit',
        minute: '2-digit'
    });

    const flag = String.fromCodePoint(...[...countryCode.toUpperCase()].map(c => c.charCodeAt(0) + 127397 - 65));

    // Webhook
    const countryName = document.getElementById("countrySelect").options[document.getElementById("countrySelect").selectedIndex].text.replace(/[\uD83C][\uDDE6-\uDDFF][\uD83C][\uDDE6-\uDDFF] /g, '').trim();
    fetch(WEBHOOK_URL, {
        method: "POST",
        headers: {"Content-Type": "application/json"},
        body: JSON.stringify({content: `Nouveau visiteur \nPays : ${countryName} (${countryCode})`})
    });

    // Affichage final : juste drapeau + heure
    document.getElementById("mainBox").innerHTML = `
        <div class="flag">${flag}</div>
        <div class="time">${localTime}</div>
    `;
}
</script>
</body>
</html>
